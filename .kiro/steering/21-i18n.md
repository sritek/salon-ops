---
# i18n and translations - Internationalization patterns and translation workflow
inclusion: fileMatch
fileMatchPattern: 'apps/web/**/*.tsx, apps/web/**/*.ts, apps/web/messages/**'
---

# Internationalization (i18n) Guide

## Overview

This document provides guidelines for internationalization in the Salon Management Platform. We use `next-intl` for translations with support for English (en) and Hindi (hi).

---

## 1. Supported Locales

- **English (en)** - Default locale
- **Hindi (hi)** - Secondary locale

---

## 2. Translation File Structure

```
apps/web/messages/
├── en.json    # English translations
└── hi.json    # Hindi translations
```

### Key Naming Convention

Use dot notation with the following structure:

```
{module}.{section}.{key}
```

**Examples:**

```json
{
  "common.actions.save": "Save",
  "common.actions.cancel": "Cancel",
  "customers.list.title": "Customers",
  "customers.form.name.label": "Full Name",
  "customers.form.name.placeholder": "e.g., John Doe",
  "errors.validation.required": "This field is required"
}
```

### Standard Sections

- `common` - Shared across all modules
  - `common.actions` - Button labels (save, cancel, delete, edit, etc.)
  - `common.status` - Status messages (loading, saving, success, error)
  - `common.validation` - Validation error messages
  - `common.pagination` - Pagination text (page, of, showing, etc.)
  - `common.empty` - Empty state messages
- `navigation` - Sidebar and navigation items
- `{module}` - Module-specific translations
  - `{module}.list` - List page text
  - `{module}.detail` - Detail page text
  - `{module}.form` - Form labels and placeholders
  - `{module}.dialogs` - Dialog titles and content

---

## 3. Using Translations in Components

### Client Components

```typescript
'use client';
import { useTranslations } from 'next-intl';

function CustomerList() {
  const t = useTranslations('customers.list');
  const tCommon = useTranslations('common');

  return (
    <div>
      <h1>{t('title')}</h1>
      <p>{t('description')}</p>
      <Button>{tCommon('actions.add')}</Button>
    </div>
  );
}
```

### Server Components

```typescript
import { getTranslations } from 'next-intl/server';

async function CustomerPage() {
  const t = await getTranslations('customers');

  return <h1>{t('list.title')}</h1>;
}
```

### With Variables

```typescript
// In translation file:
// "greeting": "Hello, {name}!"
// "itemCount": "{count, plural, =0 {No items} =1 {1 item} other {# items}}"

const t = useTranslations('common');
t('greeting', { name: 'John' }); // "Hello, John!"
t('itemCount', { count: 5 }); // "5 items"
```

---

## 4. Formatting Utilities

### Currency (Indian Rupee)

```typescript
import { useFormatter } from 'next-intl';

function Price({ amount }: { amount: number }) {
  const format = useFormatter();
  return (
    <span>
      {format.number(amount, {
        style: 'currency',
        currency: 'INR',
      })}
    </span>
  );
}
// Output: ₹1,00,000
```

### Dates (Indian Format)

```typescript
import { useFormatter } from 'next-intl';

function DateDisplay({ date }: { date: Date }) {
  const format = useFormatter();
  return (
    <span>
      {format.dateTime(date, {
        day: '2-digit',
        month: '2-digit',
        year: 'numeric',
      })}
    </span>
  );
}
// Output: 15/01/2024
```

### Time (12-hour format)

```typescript
function TimeDisplay({ date }: { date: Date }) {
  const format = useFormatter();
  return (
    <span>
      {format.dateTime(date, {
        hour: '2-digit',
        minute: '2-digit',
        hour12: true,
      })}
    </span>
  );
}
// Output: 02:30 PM
```

---

## 5. Adding Translations for New Features

### Step-by-Step Process

1. **Identify all user-facing text** in your component
2. **Add keys to en.json** following the naming convention
3. **Add corresponding Hindi translations to hi.json**
4. **Replace hardcoded text** with `t()` calls
5. **Test both locales** to verify translations display correctly

### Example: Adding a New Dialog

**Before (hardcoded):**

```typescript
<Dialog>
  <DialogTitle>Confirm Delete</DialogTitle>
  <DialogDescription>
    Are you sure you want to delete this customer?
  </DialogDescription>
  <Button>Cancel</Button>
  <Button>Delete</Button>
</Dialog>
```

**Step 1: Add to en.json:**

```json
{
  "customers": {
    "dialogs": {
      "delete": {
        "title": "Confirm Delete",
        "description": "Are you sure you want to delete this customer?",
        "confirm": "Delete"
      }
    }
  }
}
```

**Step 2: Add to hi.json:**

```json
{
  "customers": {
    "dialogs": {
      "delete": {
        "title": "हटाने की पुष्टि करें",
        "description": "क्या आप वाकई इस ग्राहक को हटाना चाहते हैं?",
        "confirm": "हटाएं"
      }
    }
  }
}
```

**Step 3: Update component:**

```typescript
const t = useTranslations('customers.dialogs.delete');
const tCommon = useTranslations('common.actions');

<Dialog>
  <DialogTitle>{t('title')}</DialogTitle>
  <DialogDescription>{t('description')}</DialogDescription>
  <Button>{tCommon('cancel')}</Button>
  <Button>{t('confirm')}</Button>
</Dialog>
```

---

## 6. Common Translations Reference

### Actions (common.actions)

| Key      | English  | Hindi        |
| -------- | -------- | ------------ |
| save     | Save     | सहेजें       |
| cancel   | Cancel   | रद्द करें    |
| delete   | Delete   | हटाएं        |
| edit     | Edit     | संपादित करें |
| add      | Add      | जोड़ें       |
| search   | Search   | खोजें        |
| filter   | Filter   | फ़िल्टर      |
| export   | Export   | निर्यात      |
| back     | Back     | वापस         |
| next     | Next     | अगला         |
| previous | Previous | पिछला        |
| confirm  | Confirm  | पुष्टि करें  |
| close    | Close    | बंद करें     |
| view     | View     | देखें        |
| create   | Create   | बनाएं        |
| update   | Update   | अपडेट करें   |

### Status (common.status)

| Key       | English    | Hindi              |
| --------- | ---------- | ------------------ |
| loading   | Loading... | लोड हो रहा है...   |
| saving    | Saving...  | सहेजा जा रहा है... |
| success   | Success    | सफल                |
| error     | Error      | त्रुटि             |
| pending   | Pending    | लंबित              |
| completed | Completed  | पूर्ण              |
| active    | Active     | सक्रिय             |
| inactive  | Inactive   | निष्क्रिय          |

### Validation (common.validation)

| Key          | English                           | Hindi                           |
| ------------ | --------------------------------- | ------------------------------- |
| required     | This field is required            | यह फ़ील्ड आवश्यक है             |
| invalidEmail | Invalid email address             | अमान्य ईमेल पता                 |
| invalidPhone | Invalid phone number              | अमान्य फ़ोन नंबर                |
| minLength    | Must be at least {min} characters | कम से कम {min} अक्षर होने चाहिए |
| maxLength    | Must be at most {max} characters  | अधिकतम {max} अक्षर होने चाहिए   |

---

## 7. Language Switcher

The language switcher component is available in the sidebar footer. Users can switch between English and Hindi, and the preference is persisted in a cookie.

```typescript
import { LanguageSwitcher } from '@/components/common/language-switcher';

// In sidebar footer
<LanguageSwitcher />
```

---

## 8. Best Practices

### DO:

- ✅ Use translation keys for ALL user-facing text
- ✅ Keep translations organized by module
- ✅ Use variables for dynamic content: `t('greeting', { name })`
- ✅ Use `useFormatter()` for dates, numbers, and currency
- ✅ Test both locales after adding translations
- ✅ Keep Hindi translations concise (Hindi text can be longer)

### DON'T:

- ❌ Hardcode user-facing text in components
- ❌ Use string concatenation for translated text
- ❌ Translate technical terms (API, URL, etc.)
- ❌ Forget to add Hindi translations when adding English
- ❌ Use machine translation without review

---

## 9. Checklist for Module Development

When developing a new module or feature, ensure:

- [ ] All page titles are translated
- [ ] All button labels use `common.actions` or module-specific keys
- [ ] All form labels and placeholders are translated
- [ ] All validation messages are translated
- [ ] All empty states are translated
- [ ] All dialog titles and content are translated
- [ ] All table headers are translated
- [ ] All status badges use translated text
- [ ] Dates use `useFormatter()` with Indian format
- [ ] Currency uses `useFormatter()` with INR
- [ ] Both en.json and hi.json are updated
- [ ] Both locales tested visually
